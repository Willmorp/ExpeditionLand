(function(a){a.fn.extend({bstip:function(c){var b=a.extend({},a.fn.bstip.defaults,c);return this.each(function(k){var e=a(this).id,f=a(this).attr("title"),g=a(this);var d=g.attr("class"),j=g.attr("rel");if(f==null||f==""){return}g.addClass("souniqueithurts");if(d==""){newclass=""}else{newclass=d;newclass=newclass.replace(/ /,"")}if(e==""){newid=""}else{newid=e}if(j==""){newrel=""}else{newrel=j}if(b.type=="tip"){a("body").append("<div class='"+b.color+"' id='bs"+k+newclass+newid+newrel+"'>"+b.forewrap+f+b.backwrap+"</div>")}else{if(b.type=="menu"){if(f!=null||f!=""){nextitem=a("#"+f);nextcont=nextitem.html();a("body").append("<div class='"+b.color+"' id='bs"+k+newclass+newid+newrel+"'>"+b.forewrap+nextcont+b.backwrap+"</div>");nextitem.remove()}}}var h=a("#bs"+k+newclass+newid+newrel);tipwidth="auto";tipheight=h.height();offset=g.offset();left=offset.left;right=offset.right;nwidth=a(this).width();nheight=a(this).height();if(b.hook=="bottom-right"||b.hook=="mid-right"||b.hook=="top-right"){bleft=offset.left+nwidth+b.xnudge}else{if(b.hook=="bottom-mid"||b.hook=="mid-mid"||b.hook=="top-mid"){bleft=offset.left+(nwidth/2)-(tipwidth/2)+b.xnudge+250}else{if(b.hook=="bottom-left"||b.hook=="mid-left"||b.hook=="top-left"){bleft=offset.left-b.xnudge-tipwidth}}}if(b.hook=="top-right"||b.hook=="top-mid"||b.hook=="top-left"){btop=offset.top-b.ynudge-10}else{if(b.hook=="mid-right"||b.hook=="mid-mid"||b.hook=="mid-left"){btop=offset.top+b.ynudge}else{if(b.hook=="bottom-right"||b.hook=="bottom-mid"||b.hook=="bottom-left"){btop=offset.top+nheight+b.ynudge}}}h.css({top:btop,left:bleft,clear:"both",position:"absolute",display:"none",opacity:"100%"});if(b.sticky=="none"){a(this).removeAttr("title").hover(function(){h.css({opacity:b.opacity}).fadeIn(b.speed)},function(){t=setTimeout(function(){h.fadeOut(b.speed)},b.tack)});h.hover(function(){clearTimeout(t)},function(){t=setTimeout(function(){h.fadeOut(b.speed)},b.tack)})}else{if(b.sticky=="move"){a(this).removeAttr("title").mouseover(function(){h.css({opacity:b.opacity,display:"none"}).fadeIn(b.speed)}).mousemove(function(l){tipwidth=h.width();tipheight=h.height();if(b.hook=="bottom-right"||b.hook=="mid-right"||b.hook=="top-right"){bleft=l.pageX+b.xnudge}else{if(b.hook=="bottom-mid"||b.hook=="mid-mid"||b.hook=="top-mid"){bleft=l.pageX-(tipwidth/2)+b.xnudge}else{if(b.hook=="bottom-left"||b.hook=="mid-left"||b.hook=="top-left"){bleft=l.pageX-b.xnudge-tipwidth}}}if(b.hook=="top-right"||b.hook=="top-mid"||b.hook=="top-left"){btop=l.pageY-tipheight-b.ynudge}else{if(b.hook=="mid-right"||b.hook=="mid-mid"||b.hook=="mid-left"){btop=l.pageY-(tipheight/2)+b.ynudge}else{if(b.hook=="bottom-right"||b.hook=="bottom-mid"||b.hook=="bottom-left"){btop=l.pageY+b.ynudge}}}h.css({left:bleft,top:btop})}).mouseout(function(){h.fadeOut(b.speed)})}else{if(b.sticky=="slide"){a(this).removeAttr("title").mouseover(function(){h.css({opacity:b.opacity,display:"none"}).fadeIn(b.speed)}).mousemove(function(l){if(b.hook=="bottom-right"||b.hook=="mid-right"||b.hook=="top-right"){bleft=l.pageX+b.xnudge}else{if(b.hook=="bottom-mid"||b.hook=="mid-mid"||b.hook=="top-mid"){bleft=l.pageX-(tipwidth/2)+b.xnudge}else{if(b.hook=="bottom-left"||b.hook=="mid-left"||b.hook=="top-left"){bleft=l.pageX-b.xnudge-tipwidth}}}if(b.hook=="top-right"||b.hook=="top-mid"||b.hook=="top-left"){btop=top-b.ynudge-tipheight}else{if(b.hook=="mid-right"||b.hook=="mid-mid"||b.hook=="mid-left"){btop=top+b.ynudge}else{if(b.hook=="bottom-right"||b.hook=="bottom-mid"||b.hook=="bottom-left"){btop=top+nheight+b.ynudge}}}h.css({left:bleft,top:btop})}).mouseout(function(){t=setTimeout(function(){h.fadeOut(b.speed)},b.tack)});h.hover(function(){clearTimeout(t)},function(){t=setTimeout(function(){h.fadeOut(b.speed)},b.tack)})}}}})}});a.fn.bstip.defaults={sticky:"move",forewrap:"",backwrap:"",hook:"bottom-right",color:"bstip",speed:"fast",type:"tip",tack:0,keep:2000,ynudge:0,xnudge:0,opacity:1}})(jQuery);if($("#divMoreConcessionPricePopup").length>1){$("#divMoreConcessionPricePopup").jqm({model:true})}if($("#divPackageOthersPriceDetails").length>0){$("#divPackageOthersPriceDetails").jqm({model:true})}for(i=0;i<5;i++){var msgInformationHTML="";var msgErrorHTML="";if($("#msgInformationContentOptional_"+i).html()!=null&&$.trim($("#msgInformationContentOptional_"+i).html())!=""){msgInformationHTML=$("#msgInformationContentOptional_"+i).html();$("#msgInformationItems_"+i).html(msgInformationHTML);$("#msgInformationItems_"+i).show()}if($("#msgErrorContentOptional_"+i).html()!=null&&$.trim($("#msgErrorContentOptional_"+i).html())!=""){msgErrorHTML=$("#msgErrorContentOptional_"+i).html();$("#msgErrorItems_"+i).html(msgErrorHTML);$("#msgErrorItems_"+i).show()}}$(function(){try{$(".clutip").each(function(){$(this).cluetip({splitTitle:"|",dropShadow:false,cluetipClass:"rounded",showtitle:false})});$(".clutip").each(function(){$(this).cluetip({cluetipClass:"rounded",dropShadow:false,showtitle:false,positionBy:"mouse"})});$(".clutip").each(function(){$(this).cluetip({cluetipClass:"rounded",dropShadow:false,showtitle:false,positionBy:"bottomTop",topOffset:70})});$(".clutip").each(function(){$(this).cluetip({cluetipClass:"rounded",dropShadow:false,sticky:true,ajaxCache:false,arrows:true})});$(".clutip").each(function(){$(this).cluetip({cluetipClass:"rounded",dropShadow:false})})}catch(a){}if($(".bslink4").length>0){$(".bslink4").bstip({color:"bswrap",type:"menu",tack:100,hook:"bottom-right",sticky:"none"})}$("body").bind("touchstart",function(c){c=c.originalEvent;var d=c.touches[0]&&c.touches[0].target,b=$(d);if(d.nodeName!=="A"&&!b.closest("div.cluetip").length){$(document).trigger("hideCluetip")}})});$(function(){slider();ProductResultSlider();PackageResultSlider()});$(function(){$("#divUpgradeCarEndLocation").jqm({trigger:"#openUpgradeCarEndLocation",overlay:0,onShow:function(a){a.w.css("opacity",1).slideDown("fast");$("#pMsg").html("")},onHide:function(a){a.w.slideUp("fast",function(){if(a.o){a.o.remove()}})}})});function CollapseFlightResults(a,b){if($("#"+b).is(":visible")){$("#TitleDiv"+a).addClass("railrsltssliderexpand ");$("#TitleDiv"+a).removeClass("railrsltsslidercollapse");$("#"+b).hide()}else{$("#TitleDiv"+a).removeClass("railrsltssliderexpand ");$("#TitleDiv"+a).addClass("railrsltsslidercollapse");$("#"+b).show()}}function slider(){if($("#price-range1").length>0){if($("#MaxPrice")!=null&&$("#MaxPrice").val()!=undefined&&$("#MaxPrice").val()!=""){var h=Math.round(parseInt($("#MaxPrice").val()));var f=Math.round(parseInt($("#MinPrice").val()));var a=$("#CurrencySymbol").val();var g=parseInt($.trim($("#txtStartPriceRange").val().replace(a,"")));var e=parseInt($.trim($("#txtEndPriceRange").val().replace(a,"")));if(g!=e){$("#price-range1").slider({range:true,min:f,max:h,values:[g,e],slide:function(k,j){$("#txtStartPriceRange").val(j.values[0]);$("#txtEndPriceRange").val(j.values[1])},stop:function(k,j){$("#txtStartPriceRange").val(j.values[0]);$("#txtEndPriceRange").val(j.values[1]);LoadProductResultsControl("/Product/LoadProductControlForSlider?IsGalleryView="+$("#IsGalleryView").val()+"&"+$("#frmCategoryFilter").serialize())}})}}}if($("#StarRangeTextBox").length>0){var b=$("#StarRangeTextBox").val().split("to");var g=parseInt($.trim(b[0]));var e=parseInt($.trim(b[1]));var c=parseInt($("#starRatingValue").val());var d=parseInt($("#starRatingMinValue").val());$("#starRating-range").slider({range:true,min:d,max:c,values:[g,e],slide:function(k,j){$("#StarRangeTextBox").val(j.values[0]+" to "+j.values[1])},stop:function(k,j){$("#StarRangeTextBox").val(j.values[0]+" to "+j.values[1]);LoadProductResultsControl("/Product/LoadProductControlForSlider?IsGalleryView="+$("#IsGalleryView").val()+"&"+$("#frmCategoryFilter").serialize())}})}}function NoOfChildsDropDownList_FPKG_onChange(e){var a=$(e).attr("Id").replace("NoOfChildsDropDownList","");var f=$("#HiddenContent_FPKG #divChildAgeContainer").clone();$(f).find("SELECT").each(function(){var g=$(this).attr("id");$(this).attr("id","ChildAgeDropDownList"+a);$(this).attr("name","ChildAgeDropDownList"+a)});f=$(f).html();var c=parseInt($(e).val());var b=0;var d=$("#tdChildAge"+a).find(".ChildAgeDropDownList").length;if(c>d){for(i=1;i<=c-d;i++){$(f).appendTo($("#tdChildAge"+a))}}else{$("#tdChildAge"+a).find(".ChildAgeDropDownList").each(function(){b++;if(b>c){$(this).remove()}})}if($("#trRoomDetails .ChildAgeDropDownList").length>0){$("#thAgeforeachchild").html("Child Age")}else{$("#thAgeforeachchild").html("")}}function InitializeFlickrGallery(b,c,d){var a=new Flickr(d);a.getSet(b,{size:"medium"},function(e){var f="";$(e).each(function(){f+="<li class='col-lg-2 col-md-2 col-sm-3 col-xs-4 thumb'><a class='thumbnail' rel='prettyPhoto["+c+"]' href='"+this.image+"'><img class='img-responsive' src='"+this.thumb+"' /></a></li>"});$("#"+c).html(f);$("#"+c+" a[rel^='prettyPhoto']").prettyPhoto({theme:"light_rounded"})})}function InitializeGalleria(d,b,c,e){var a=new Flickr(e);a.getSet(b,{size:"medium"},function(h){var f="";var g=0;$(h).each(function(){if(g>0){f+="<li><a rel='prettyPhoto["+d+"]' href='"+this.image+"'><img src='"+this.thumb+"' width='100px' heigth='100px' style='display:none'/></a></li>"}else{if(g==0){f+="<li><a rel='prettyPhoto["+d+"]' href='"+this.image+"'><img src='"+this.thumb+"' width='100px' heigth='100px'/></a><p class='galleryname'>"+c+"</p></li>"}}g=g+1});$("#"+d).append(f);$("#"+d+" a[rel^='prettyPhoto']").prettyPhoto({theme:"light_rounded"})})}function GetTrainAvailability(b,e,c,a){var d=new serviceProxy();d.invoke("/Product/GetTrainAvailability","POST","index="+e+"&date="+b,function(f){$("#spnTrainResults_"+e).html(f);GetTrainFare("","","","",0,a)});return false}function ShowFareBasisDescriptionPopup(g,f){if($("#"+g).css("display")!="none"){return}var c=g;var b=f.id;$.blockUI({message:$("#"+c),showOverlay:false,css:{background:"transparent",opacity:1,border:"0",display:"block",cursor:"pointer",left:"500px",top:"300px"}});var a=$("#"+b);var e=a.position();var h=(e.left)+"px";var d=(e.top+190-$(window).scrollTop());$(".blockUI").css("left",function(){return h});$(".blockUI").css("top",function(){return d})}function HideFareBasisDescriptionPopup(a){$("#"+a).css({display:"none"})}function OnPackagePagingIndexchanged(g,e,b){var h=new serviceProxy();if($("input[type=radio][id=filterTravelPeriod]").is(":checked")){var a=/\d+/;var c=$("#FilterStartDate").val().match(a)}else{var d=$("#FilterStartDate").val();var f=$("#FilterEndDate").val()}var j="pageIndex="+g+"&StartDate="+d+"&endDate="+f+"&sortExpression="+e+"&sortDirection="+b+"&IsGalleryView="+$("#hdnIsGalleryView").val()+"&"+$("#frmPackageCategoryFilter").serialize()+"&travelPeriod="+c;h.invoke("/Package/FilterPackageWidgetResults","POST",j,function(k){var l=$("#ProductResultContent");l.html(k)})}function ProductResultSlider(){if($("#product-price-range").length>0){if($("#MaxPrice")!=null&&$("#MaxPrice").val()!=undefined&&$("#MaxPrice").val()!=""){var g=Math.round(parseInt($("#MaxPrice").val()));var e=Math.round(parseInt($("#MinPrice").val()));var a=$("#CurrencySymbol").val();var f=parseInt($.trim($("#txtStartPriceRange").val().replace(a,"")));var d=parseInt($.trim($("#txtEndPriceRange").val().replace(a,"")));$("#product-price-range").slider({range:(f==d?false:true),min:e,max:g,values:[f,d],slide:function(j,h){$("#txtStartPriceRange").val(h.values[0]);$("#txtEndPriceRange").val(h.values[1])},stop:function(j,h){$("#txtStartPriceRange").val(h.values[0]);$("#txtEndPriceRange").val(h.values[1]);LoadProductResultsControl("/Product/FilterProductSearchResultsForSlider?"+$("#frmProductCategoryFilter").serialize())},disabled:(f==d?true:false),})}}if($("#txtStartStarRange").length>0){var f=parseInt($.trim($("#txtStartStarRange").val()));var d=parseInt($.trim($("#txtEndStarRange").val()));var c=parseInt($("#starRatingValue").val());var b=parseInt($("#starRatingMinValue").val());$("#starRating-range").slider({range:(f==d?false:true),min:b,max:c,values:[f,d],slide:function(j,h){$("#txtStartStarRange").val(h.values[0]);$("#txtEndStarRange").val(h.values[1])},stop:function(j,h){$("#txtStartStarRange").val(h.values[0]);$("#txtEndStarRange").val(h.values[1]);LoadProductResultsControl("/Product/FilterProductSearchResultsForSlider?"+$("#frmProductCategoryFilter").serialize())},disabled:(f==d?true:false),})}}function PackageResultSlider(){if($("#package-price-range").length>0){if($("#MaxPrice")!=null&&$("#MaxPrice").val()!=undefined&&$("#MaxPrice").val()!=""){var f=Math.round(parseInt($("#MaxPrice").val()));var d=Math.round(parseInt($("#MinPrice").val()));var a=$("#CurrencySymbol").val();var b=$("#PriceRangeTextBox").val().split(Resources.Search_To);var e=parseInt($.trim(b[0].replace(a,"")));var c=parseInt($.trim(b[1].replace(a,"")));$("#package-price-range").slider({range:(e==c?false:true),min:d,max:f,values:[e,c],slide:function(h,g){$("#PriceRangeTextBox").val(a+""+g.values[0]+Resources.Search_To+a+""+g.values[1]);$("#priceStart").html(g.values[0]);if(g.values[1]==$("#MaxPrice").val()){$("#priceEnd").html(g.values[1]+"+")}else{$("#priceEnd").html(g.values[1])}},stop:function(h,g){$("#PriceRangeTextBox").val(a+""+g.values[0]+Resources.Search_To+a+""+g.values[1]);$("#priceStart").html(g.values[0]);if(g.values[1]==$("#MaxPrice").val()){$("#priceEnd").html(g.values[1]+"+")}else{$("#priceEnd").html(g.values[1])}RefinePackageSearchResult()},disabled:(e==c?true:false),});$("#package-price-range").slider("values",0,e);$("#package-price-range").slider("values",1,c)}}if($("#package-duration").length>0){if($("#MaxDuration")!=null&&$("#MaxDuration").val()!=undefined&&$("#MaxDuration").val()!=""){var f=Math.round(parseInt($("#MaxDuration").val()));var d=Math.round(parseInt($("#MinDuration").val()));var b=$("#DurationRangeTextBox").val().split(Resources.Search_To);var e=parseInt($.trim(b[0]));var c=parseInt($.trim(b[1]));$("#package-duration").slider({range:(e==c?false:true),min:d,max:f,values:[e,c],slide:function(h,g){$("#DurationRangeTextBox").val(g.values[0]+" "+Resources.Search_To+" "+g.values[1]);$("#durationFrom").html(g.values[0]);if(g.values[1]==$("#MaxDuration").val()){$("#durationTo").html("9+")}else{$("#durationTo").html(g.values[1])}},stop:function(h,g){$("#DurationRangeTextBox").val(g.values[0]+" "+Resources.Search_To+" "+g.values[1]);$("#durationFrom").html(g.values[0]);if(g.values[1]==$("#MaxDuration").val()){$("#durationTo").html("9+")}else{$("#durationTo").html(g.values[1])}RefinePackageSearchResult()},disabled:(e==c?true:false),});$("#package-duration").slider("values",0,e);$("#package-duration").slider("values",1,c)}}}function HomeChangeView(a){OnViewTypechangedHome(a);if(a=="true"){$("#homeGalleryView").addClass("active");$("#homeListView").removeClass("active")}else{$("#homeListView").addClass("active");$("#homeGalleryView").removeClass("active")}$("#hdnIsGalleryViewHome").val(a)}function OnViewTypechangedHome(a){$.blockUI({message:'<h1><i class="fa fa-cog fa-spin"></i> '+Resources.Search_JustaMoment+"</h1>",showOverlay:true});if($("input[type=radio][id=filterTravelPeriod]").is(":checked")){var b=/\d+/;var d=$("#FilterStartDate").val().match(b)}else{var e=$("#FilterStartDate").val();var f=$("#FilterEndDate").val()}var c="IsGalleryView="+a+"&StartDate="+e+"&EndDate="+f+"&pageIndex=1&sortExpression=11&sortDirection=1&"+$("#frmPackageHomeCategoryFilter").serialize()+"&travelPeriod="+d;$.ajax({type:"POST",url:"/Package/FilterPackageWidgetResultsHome",data:c,success:function(g){$.unblockUI();var h=$("#divHomeTrips");h.html(g)},error:function(h,j,g){$.unblockUI();alert(g)}})}function OnHomePackagePagingIndexchanged(h,f,c,a){var j=new serviceProxy();if($("input[type=radio][id=filterTravelPeriod]").is(":checked")){var b=/\d+/;var d=$("#FilterStartDate").val().match(b)}else{var e=$("#FilterStartDate").val();var g=$("#FilterEndDate").val()}var k="IsGalleryView="+$("#hdnIsGalleryViewHome").val()+"&StartDate="+e+"&EndDate="+g+"&pageIndex="+h+"&sortExpression="+f+"&sortDirection="+c+"&"+$("#frmPackageHomeCategoryFilter").serialize()+"&travelPeriod="+d;j.invoke("/Package/FilterPackageWidgetResultsHome","POST",k,function(l){$("#divHomeShowMore").remove();$("#divHomeTrips").append(l)})}function OnPackageHomeCategory_Click(b,c,a){if($("#Category_"+b+"_"+c+"_"+a).prop("checked")){$("input").each(function(){if($(this).attr("id")!=null&&$(this).attr("id").indexOf("SubCategory_")>-1){if(!$("#SubCategory_"+$(this).attr("id").split("_")[1]+"_"+$(this).attr("id").split("_")[2]+"_"+c+"_"+a).prop("disabled")){$("#SubCategory_"+$(this).attr("id").split("_")[1]+"_"+$(this).attr("id").split("_")[2]+"_"+c+"_"+a).prop("checked",true)}}})}else{$("input").each(function(){if($(this).attr("id")!=null&&$(this).attr("id").indexOf("SubCategory_")>-1){$("#SubCategory_"+$(this).attr("id").split("_")[1]+"_"+$(this).attr("id").split("_")[2]+"_"+c+"_"+a).removeAttr("checked")}})}RefinePackageHomeSearchResult()}function OnPackageHomeOnDate_Select(){var f=new serviceProxy();if($("input[type=radio][id=filterTravelPeriod]").is(":checked")){var a=/\d+/;var c=$("#FilterStartDate").val().match(a)}else{var d=$("#FilterStartDate").val();var e=$("#FilterEndDate").val()}var b="IsGalleryView="+$("#hdnIsGalleryViewHome").val()+"&StartDate="+d+"&EndDate="+e+"&pageIndex=1&sortExpression=11&sortDirection=1&"+$("#frmPackageHomeCategoryFilter").serialize()+"&travelPeriod="+c;f.invoke("/Package/FilterPackageWidgetResultsHome","POST",b,function(g){$("#divHomeTrips").html(g)});return false}function RefinePackageHomeSearchResult(){var f=new serviceProxy();if($("input[type=radio][id=filterTravelPeriod]").is(":checked")){var a=/\d+/;var c=$("#FilterStartDate").val().match(a)}else{var d=$("#FilterStartDate").val();var e=$("#FilterEndDate").val()}var b="IsGalleryView="+$("#hdnIsGalleryViewHome").val()+"&StartDate="+d+"&EndDate="+e+"&pageIndex=1&sortExpression=11&sortDirection=1&"+$("#frmPackageHomeCategoryFilter").serialize()+"&travelPeriod="+c;f.invoke("/Package/FilterPackageWidgetResultsHome","POST",b,function(g){$("#divHomeTrips").html(g)});return false};